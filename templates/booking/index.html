{% extends 'booking/base.html' %}
{% load static %}

{% block content %}
  <body>
    <ul>
      {% for device in devices %}
        <li>
          {% if user.is_authenticated %}
            <a href="{% url 'device_calendar' device.deviceinstance_id %}">{{ device.name }}</a>
          {% else %}
            <a href="#" class="login-alert">{{ device.name }}</a>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </body>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var loginAlertLinks = document.querySelectorAll(".login-alert");
    
      loginAlertLinks.forEach(function(link) {
        link.addEventListener("click", function(event) {
            event.preventDefault();
            alert("Please log in to access this page.");
        });
    });
    })
  </script>
{% endblock %}
